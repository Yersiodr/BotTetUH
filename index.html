<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>Document</title>
</head>
<body>
<script type='text/javascript'>
	function initEmbeddedMessaging() {
	    try {
	        embeddedservice_bootstrap.settings.language = 'es'; 
	        embeddedservice_bootstrap.init(
	            '00D5f000006Pl6r',
	            'UH_Mejorado_service',
	            'https://universidadhispanoamericana.my.site.com/ESWUHMejoradoservice1728491835166',
	            {
	                scrt2URL: 'https://universidadhispanoamericana.my.salesforce-scrt.com'
	            }
	        );
	
        // Usamos un observer para esperar a que `embedded_svc` se cargue
        const observer = new MutationObserver(() => {
            if (window.embeddedservice_bootstrap && embeddedservice_bootstrap.config) {
                console.log("Salesforce Chat cargado. Aplicando configuraciones...");

                embeddedservice_bootstrap.config.invitation = embedded_svc.config.invitation || {};

                embeddedservice_bootstrap.config.invitation.styles = `
    		.embeddedMessagingFrame {
		        background-image: url("https://universidadhispanoamericana.my.salesforce.com/sfc/p/5f000006Pl6r/a/5f000002djq2/5_WVinMZix76bbtikRL4VCPNEV65PLQiLNLLPjnktwA") !important;
		        background-size: cover !important;
                `;

                // Detenemos el observer porque ya no es necesario
                observer.disconnect();
            }
        });

        // Observamos cambios en el `body` esperando la carga de Salesforce Chat
        observer.observe(document.body, { childList: true, subtree: true });

    } catch (err) {
        console.error('Error loading Embedded Messaging: ', err);
    }
	};
</script>
<script type='text/javascript' src='https://universidadhispanoamericana.my.site.com/ESWUHMejoradoservice1728491835166/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
</body>
</html>
